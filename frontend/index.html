<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ambulance Booking</title>
  <style>
html { scroll-behavior: smooth; }

*, *::before, *::after {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: #222;
  max-width: 100%;
  overflow-x: hidden;
  animation: gradientBG 15s ease infinite;
  background-size: 400% 400%;
  min-height: 100vh;
  position: relative;
  overflow-y: auto; /* Changed from hidden to auto to enable vertical scrolling */
}

@keyframes gradientBG {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Bubbles animation */
.bubbles {
  position: fixed; /* Changed from absolute to fixed to keep bubbles in background while scrolling */
  width: 100%;
  height: 100%;
  z-index: -1;
  overflow: hidden;
  top: 0;
  left: 0;
}

.bubble {
  position: absolute;
  bottom: -100px;
  width: 80px;
  height: 80px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 50%;
  opacity: 0.5;
  animation: rise 10s infinite ease-in;
}

.bubble:nth-child(1) {
  width: 80px;
  height: 80px;
  left: 10%;
  animation-duration: 8s;
  background: rgba(255, 107, 107, 0.3);
}

.bubble:nth-child(2) {
  width: 60px;
  height: 60px;
  left: 20%;
  animation-duration: 5s;
  animation-delay: 1s;
  background: rgba(173, 216, 230, 0.3);
}

.bubble:nth-child(3) {
  width: 100px;
  height: 100px;
  left: 35%;
  animation-duration: 7s;
  animation-delay: 2s;
  background: rgba(144, 238, 144, 0.3);
}

.bubble:nth-child(4) {
  width: 150px;
  height: 150px;
  left: 50%;
  animation-duration: 11s;
  animation-delay: 0s;
  background: rgba(255, 182, 193, 0.3);
}

.bubble:nth-child(5) {
  width: 70px;
  height: 70px;
  left: 55%;
  animation-duration: 6s;
  animation-delay: 1s;
  background: rgba(255, 255, 0, 0.3);
}

.bubble:nth-child(6) {
  width: 90px;
  height: 90px;
  left: 65%;
  animation-duration: 8s;
  background: rgba(153, 50, 204, 0.3);
}

.bubble:nth-child(7) {
  width: 70px;
  height: 70px;
  left: 75%;
  animation-duration: 7s;
  animation-delay: 3s;
  background: rgba(255, 165, 0, 0.3);
}

.bubble:nth-child(8) {
  width: 130px;
  height: 130px;
  left: 80%;
  animation-duration: 12s;
  animation-delay: 2s;
  background: rgba(0, 255, 255, 0.3);
}

.bubble:nth-child(9) {
  width: 50px;
  height: 50px;
  left: 70%;
  animation-duration: 5s;
  animation-delay: 1s;
  background: rgba(255, 192, 203, 0.3);
}

.bubble:nth-child(10) {
  width: 100px;
  height: 100px;
  left: 85%;
  animation-duration: 9s;
  animation-delay: 4s;
  background: rgba(124, 252, 0, 0.3);
}

@keyframes rise {
  0% {
    bottom: -100px;
    transform: translateX(0) scale(0.5);
    opacity: 0;
  }
  10% {
    opacity: 0.5;
  }
  50% {
    transform: translateX(100px) scale(1.2);
  }
  100% {
    bottom: 1080px;
    transform: translateX(-200px) scale(0.8);
    opacity: 0;
  }
}

header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 3%;
  background: rgba(255, 255, 255, 0.1);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  flex-wrap: wrap;
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
  position: relative;
  overflow: visible;
  z-index: 1000;
  backdrop-filter: blur(10px);
  min-height: 60px;
}

@media (min-width: 1400px) {
  header {
    padding: 10px 2%;
  }
}

.nav-left h1 {
  margin: 0;
  font-size: 20px;
  color: #fff;
  white-space: nowrap;
  text-shadow: 0 2px 4px rgba(0,0,0,0.2);
  flex-shrink: 0;
}

@media (min-width: 1400px) {
  .nav-left h1 {
    font-size: 18px;
  }
}

.nav-right {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  overflow-x: visible;
  max-width: 70%; /* Added to prevent overflow */
  justify-content: flex-end;
}

@media (min-width: 1400px) {
  .nav-right {
    max-width: 60%;
  }
  
  .nav-right a,
  .nav-right span,
  .dropdown-btn {
    font-size: 15px;
    padding: 8px 14px;
  }
  
  .phone-number {
    font-size: 13px;
    padding: 8px 10px;
  }
  
  .theme-toggle {
    padding: 6px 10px;
    font-size: 13px;
  }
  
  .hero .btn {
    padding: 20px 35px;
    font-size: 24px;
  }
}

@media (max-width: 1400px) and (min-width: 1201px) {
  .nav-right {
    max-width: 65%;
  }
  
  .nav-right a,
  .nav-right span,
  .dropdown-btn {
    font-size: 16px;
    padding: 10px 15px;
  }
}

@media (max-width: 1200px) {
  .nav-right {
    max-width: 60%;
  }
  
  .nav-right a,
  .nav-right span,
  .dropdown-btn {
    font-size: 15px;
    padding: 10px 14px;
  }
}

@media (max-width: 992px) {
  .nav-right {
    max-width: 55%;
  }
  
  .nav-right a,
  .nav-right span,
  .dropdown-btn {
    font-size: 14px;
    padding: 8px 12px;
  }
}

.nav-right a,
.nav-right span,
.dropdown-btn {
  color: #fff;
  text-decoration: none;
  background: rgba(255, 255, 255, 0.1);
  padding: 10px 16px;
  border-radius: 8px;
  font-weight: 500;
  white-space: nowrap;
  font-size: 16px;
  transition: all 0.3s ease;
  backdrop-filter: blur(5px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  display: flex;
  align-items: center;
  justify-content: center;
}

.nav-right a:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: translateY(-2px);
}

.nav-right a.active {
  background: rgba(255, 255, 255, 0.3);
  box-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
  transform: translateY(-2px);
}

.phone-number {
  font-weight: bold;
  color: #ffeb3b;
  text-shadow: 0 0 10px rgba(255, 235, 59, 0.5);
  font-size: 14px;
  padding: 10px 12px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(5px);
  display: flex;
  align-items: center;
  white-space: nowrap;
}

.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #fff;
  min-width: 160px;
  box-shadow: 0px 8px 16px rgba(0,0,0,0.2);
  z-index: 9999;
  border-radius: 6px;
  top: 100%;
  right: 0;
  left: auto;
  padding: 10px 0;
}

.dropdown-content a {
  color: #333;
  padding: 12px 28px;
  text-decoration: none;
  display: block;
  font-size: 16px;
  transition: all 0.3s ease;
}

.dropdown-content a:hover {
  background-color: #f1f1f1;
  color: #ff6b6b;
}

.dropdown-content.show {
  display: block !important;
}

.dropdown-btn {
  color: #fff;
  text-decoration: none;
  background: rgba(255, 255, 255, 0.1);
  padding: 10px 16px;
  border-radius: 8px;
  font-weight: 500;
  white-space: nowrap;
  font-size: 16px;
  transition: all 0.3s ease;
  backdrop-filter: blur(5px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.dropdown-btn:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: translateY(-2px);
}

/* Responsive dropdown adjustments */
@media (max-width: 1024px) {
  .dropdown-content {
    min-width: 140px;
  }
  
  .dropdown-content a {
    padding: 10px 20px;
    font-size: 14px;
  }
  
  .dropdown-btn {
    font-size: 14px;
    padding: 8px 12px;
  }
}

@media (max-width: 768px) {
  .nav-right {
    display: none;
    flex-direction: column;
    align-items: flex-end;
    position: absolute;
    top: 60px;
    right: 0;
    left: auto;
    max-width: 300px;
    width: auto;
    background: rgba(255, 255, 255, 0.9);
    padding: 10px 5%;
    border-top: 1px solid #eee;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    z-index: 999;
    border-radius: 0 0 10px 10px;
    flex-wrap: wrap;
  }
  
  .nav-right.show {
    display: flex;
  }
  
  .hamburger {
    display: block;
    margin-left: auto;
  }
  
  .nav-right a,
  .nav-right span,
  .dropdown-btn {
    display: block;
    width: 100%;
    text-align: left;
    padding: 10px 0;
    color: #333;
    background: transparent;
    border: none;
  }
  
  .nav-right .phone-number {
    text-align: center;
    padding: 10px 0;
    font-weight: bold;
    color: #ff6b6b;
  }
  
  .theme-toggle {
    margin: 10px 0;
    padding: 8px 16px;
    font-size: 16px;
    width: auto;
  }
  
  .dropdown {
    width: 100%;
  }
  
  .dropdown-btn {
    display: block;
    width: 100%;
    text-align: left;
    padding: 10px 0;
    color: #333;
    background: transparent;
    border: none;
    font-size: 16px;
    font-weight: 500;
  }
  
  .dropdown-content {
    position: static;
    box-shadow: none;
    background: transparent;
    padding: 0;
    display: none;
  }
  
  .dropdown-content.show {
    display: block;
  }
  
  .dropdown-content a {
    color: #333;
    padding: 10px 0;
    background: transparent;
    border: none;
    padding-left: 20px;
    font-size: 14px;
  }
  
  /* Ensure dropdown content doesn't overflow on mobile */
  .dropdown-content a {
    white-space: normal;
    word-break: break-word;
  }
  
  /* Adjust hero buttons for mobile */
  .hero .btn {
    padding: 15px 25px;
    font-size: 18px;
    max-width: 100%;
  }
}

/* Mobile Fix: Keep header in one line */
@media (max-width: 768px) {
  header {
    padding: 8px 4%;
    flex-wrap: wrap;
  }

  .nav-left h1 {
    font-size: 16px;
  }

  .nav-right a,
  .nav-right span,
  .dropdown-btn {
    font-size: 16px;
    padding: 8px 12px;
  }

  .dropdown-content a {
    font-size: 14px;
    padding: 10px 15px;
  }
}

.hero {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: center;
  padding: 60px 10%;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 20px;
  margin: 30px 5%;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  animation: float 6s ease-in-out infinite, glow 3s ease-in-out infinite alternate;
  position: relative;
  z-index: 10;
  box-shadow: 0 0 30px rgba(255, 107, 107, 0.3);
  transition: all 0.5s ease;
}

@keyframes float {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
  100% { transform: translateY(0px); }
}

@keyframes glow {
  0% { box-shadow: 0 0 20px rgba(255, 107, 107, 0.3); }
  100% { box-shadow: 0 0 40px rgba(255, 107, 107, 0.6), 0 0 60px rgba(255, 107, 107, 0.3); }
}

.hero .content {
  flex: 1;
  min-width: 280px;
}

.button-container {
  display: flex;
  flex-wrap: nowrap;
  gap: 20px;
  align-items: center;
}

@media (max-width: 1024px) {
  .button-container {
    flex-wrap: wrap;
  }
  
  .hero .btn {
    padding: 16px 28px;
    font-size: 20px;
  }
}

@media (max-width: 768px) {
  .button-container {
    flex-direction: column;
    gap: 15px;
    align-items: flex-start;
  }
  
  .button-container .btn {
    margin-left: 0 !important;
    width: 100%;
    max-width: 300px;
  }
  
  .hero .btn {
    padding: 15px 25px;
    font-size: 18px;
  }
}

#scrollToTop:hover {
  transform: translateY(-5px);
  box-shadow: 0 6px 15px rgba(0,0,0,0.3);
}

/* ‚úÖ FIX: Prevent jumping by setting consistent height */
.hero h2 {
  font-size: 48px;
  margin-bottom: 15px;
  min-height: 60px;
  color: #fff;
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.hero p {
  font-size: 24px;
  margin-bottom: 30px;
  color: #fff;
  text-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

.btn {
  background: linear-gradient(135deg, #ff6b6b, #ff8e53);
  color: white;
  padding: 18px 32px;
  text-decoration: none;
  font-weight: bold;
  border-radius: 30px;
  display: inline-block;
  transition: all 0.3s ease;
  box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
  border: none;
  cursor: pointer;
  font-size: 22px;
  position: relative;
  overflow: hidden;
}

.btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  transition: 0.5s;
}

.btn:hover::before {
  left: 100%;
}

.btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
  background: linear-gradient(135deg, #ff8e53, #ff6b6b);
}

.btn:active {
  transform: translateY(1px);
}

.hero img {
  max-width: 45%;
  height: auto;
  border-radius: 10px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.2);
}

.interactive-stats {
  display: flex;
  gap: 30px;
  margin-top: 30px;
  justify-content: center;
}

.stat-box {
  text-align: center;
  background: rgba(255, 255, 255, 0.2);
  padding: 15px 20px;
  border-radius: 15px;
  backdrop-filter: blur(5px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  transition: all 0.3s ease;
}

.stat-box:hover {
  transform: translateY(-5px);
  background: rgba(255, 255, 255, 0.3);
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.stat-number {
  display: block;
  font-size: 32px;
  font-weight: bold;
  color: #fff;
  margin-bottom: 5px;
}

.stat-label {
  font-size: 16px;
  color: #fff;
  text-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

.lazy {
  opacity: 0;
  transition: opacity 0.3s;
}

.lazy:not([src]) {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 10px;
  animation: pulse 1.5s infinite;
}

.lazy.loaded {
  opacity: 1;
}

section {
  padding: 60px 10%;
  background: rgba(255, 255, 255, 0.8);
  border-radius: 15px;
  margin: 30px 5%;
  backdrop-filter: blur(5px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  position: relative;
  z-index: 10;
}

.section-title {
  text-align: center;
  font-size: 42px;
  margin-bottom: 40px;
  color: #222;
}

.section-content {
  max-width: 900px;
  margin: 0 auto;
  font-size: 16px;
  line-height: 1.6;
  color: #444;
}

.service-detail {
  background: rgba(255, 255, 255, 0.9);
  padding: 20px;
  border-radius: 10px;
  margin-top: 20px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  border: 1px solid rgba(0,0,0,0.1);
  transition: all 0.3s ease;
  opacity: 0;
  transform: translateY(20px);
}

.service-detail.visible {
  opacity: 1;
  transform: translateY(0);
}

.service-detail h3 {
  color: #ff6b6b;
  margin-top: 0;
}

.service-detail p {
  margin-bottom: 0;
}

.services-list, .booking-steps, .faq-list {
  margin-top: 20px;
}

.service-item {
  cursor: pointer;
  transition: all 0.3s ease;
  padding: 10px 15px;
  border-radius: 8px;
}

.service-item:hover {
  background: rgba(255, 107, 107, 0.1);
  transform: translateX(5px);
}

.service-item.active {
  background: rgba(255, 107, 107, 0.2);
  font-weight: bold;
  box-shadow: 0 0 10px rgba(255, 107, 107, 0.3);
}

li {
  margin-bottom: 12px;
}

.comparison-table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
  font-size: 16px;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 0 20px rgba(0,0,0,0.1);
}

.table-header {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  font-weight: bold;
}

.table-row {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  background: rgba(255, 255, 255, 0.9);
  border-bottom: 1px solid #eee;
  transition: all 0.3s ease;
}

.table-row:hover {
  background: rgba(255, 107, 107, 0.1);
  transform: scale(1.02);
}

.table-cell {
  padding: 15px;
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
}

.table-header .table-cell {
  padding: 20px 15px;
}

.why-us {
  display: flex;
  flex-direction: column;
  gap: 20px;
  align-items: center;
}

.testimonial {
  background-color: rgba(255, 255, 255, 0.9);
  padding: 20px;
  border-radius: 10px;
  max-width: 600px;
  text-align: center;
  font-style: italic;
  color: #333;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  border: 1px solid rgba(0,0,0,0.1);
}

.who-we-are {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  background: rgba(255, 255, 255, 0.8);
  border-radius: 15px;
  margin: 30px 5%;
  backdrop-filter: blur(5px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  position: relative;
  z-index: 10;
}

.image-box {
  flex: 1;
  text-align: center;
}

.image-box img {
  max-width: 100%;
  height: auto;
  border-radius: 10px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.2);
}

.content-box {
  flex: 1;
  padding: 0 20px;
}

.stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin-top: 30px;
}

.stat-item {
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid rgba(0,0,0,0.1);
  padding: 20px;
  border-radius: 10px;
  text-align: center;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
  background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
  position: relative;
  overflow: hidden;
  transform: translateY(0);
}

.stat-item::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  transition: 0.5s;
}

.stat-item:hover::before {
  left: 100%;
}

.stat-item:nth-child(2) {
  background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
}

.stat-item:nth-child(3) {
  background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%);
}

.stat-item:nth-child(4) {
  background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%);
}

.stat-item:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}

.stat-item strong {
  font-size: 28px;
  display: block;
  margin-bottom: 10px;
  color: #ff6b6b;
}

@media (max-width: 600px) {
  .stats {
    grid-template-columns: 1fr;
  }

  .stat-item {
    padding: 15px;
  }

  .stat-item strong {
    font-size: 18px;
  }
}

footer {
  text-align: center;
  padding: 40px 10%;
  background: rgba(0, 0, 0, 0.2);
  color: #fff;
  margin: 30px 5%;
  border-radius: 15px;
  backdrop-filter: blur(5px);
  position: relative;
  z-index: 10;
}

@media (max-width: 480px) {
  footer {
    padding: 20px 5%;
    font-size: 14px;
  }

  .testimonial {
    padding: 15px;
  }

  .review-card {
    padding: 15px;
  }
}

.reveal {
  opacity: 0;
  transform: translateY(50px);
  transition: all 0.6s ease-out;
}

.reveal.active {
  opacity: 1;
  transform: translateY(0);
}

.review-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  padding-top: 10px;
}

.review-card {
  background-color: rgba(255, 255, 255, 0.9);
  border-radius: 16px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.1);
  padding: 20px;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  position: relative;
  overflow: hidden;
  border: 1px solid rgba(0,0,0,0.1);
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  color: white;
  transform: translateY(0);
  animation: cardFloat 4s ease-in-out infinite;
}

/* Carousel styles */
.carousel-container {
  position: relative;
  max-width: 100%;
  margin: 0 auto;
  overflow: hidden;
}

.carousel {
  display: flex;
  transition: transform 0.5s ease-in-out;
}

.carousel-item {
  min-width: 100%;
  padding: 20px;
}

.carousel-controls {
  display: flex;
  justify-content: center;
  margin-top: 20px;
  gap: 10px;
}

.carousel-btn {
  background: rgba(255, 255, 255, 0.2);
  border: none;
  color: white;
  padding: 10px 15px;
  border-radius: 5px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.carousel-btn:hover {
  background: rgba(255, 255, 255, 0.4);
}

.carousel-indicators {
  display: flex;
  justify-content: center;
  margin-top: 15px;
  gap: 8px;
}

.indicator {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.4);
  cursor: pointer;
  transition: all 0.3s ease;
}

.indicator.active {
  background: white;
  transform: scale(1.2);
}

@keyframes cardFloat {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-8px); }
  100% { transform: translateY(0px); }
}

.review-card:nth-child(2) {
  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
}

.review-card:nth-child(3) {
  background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
}

.review-card:nth-child(4) {
  background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
}

.review-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
}

.review-text {
  font-size: 20px;
  line-height: 1.6;
  color: #333;
  margin-bottom: 20px;
}

.review-card:nth-child(2) .review-text,
.review-card:nth-child(3) .review-text,
.review-card:nth-child(4) .review-text {
  color: white;
}

.review-author {
  font-weight: bold;
  color: #ff6b6b;
  font-size: 18px;
  text-align: right;
}

.review-card:nth-child(2) .review-author,
.review-card:nth-child(3) .review-author,
.review-card:nth-child(4) .review-author {
  color: rgba(255, 255, 255, 0.9);
}

.hamburger {
  display: none;
  font-size: 28px;
  background: none;
  border: none;
  cursor: pointer;
  color: #fff;
}

@media (max-width: 1024px) {
  .nav-right {
    max-width: 60%; /* Adjust for smaller screens */
  }
  
  .nav-right a,
  .nav-right span,
  .dropdown-btn {
    font-size: 14px;
    padding: 8px 10px;
  }
  
  .theme-toggle {
    font-size: 12px;
    padding: 4px 8px;
  }
}

@media (max-width: 992px) {
  .nav-right {
    max-width: 50%;
  }
  
  .nav-right a:not(.phone-number),
  .nav-right span:not(.phone-number) {
    font-size: 14px;
    padding: 8px 10px;
  }
  
  .nav-right .phone-number {
    font-size: 16px;
    padding: 6px 8px;
  }
  
  .theme-toggle {
    font-size: 12px;
    padding: 4px 8px;
  }
}

@media (max-width: 768px) {
  .theme-toggle {
    font-size: 14px;
    padding: 6px 10px;
  }
}

@media (max-width: 768px) {
  .nav-right {
    max-width: none;
  }
}

@media (max-width: 480px) {
  header {
    padding: 10px 3%;
  }

  .nav-left h1 {
    font-size: 18px;
  }

  .hamburger {
    font-size: 20px;
  }

  .hero {
    padding: 20px 3%;
  }

  .hero h2 {
    font-size: 28px;
  }

  .hero p {
    font-size: 16px;
  }

  .btn {
    font-size: 14px;
    padding: 10px 16px;
  }

  .section-title {
    font-size: 28px;
  }

  .who-we-are {
    padding: 30px 3%;
  }

  .stats {
    gap: 15px;
  }

  .stat-item {
    padding: 15px;
  }

  .stat-number {
    font-size: 24px;
  }

  .comparison-table .table-header,
  .comparison-table .table-row {
    grid-template-columns: 1fr;
  }

  .comparison-table .table-header .table-cell,
  .comparison-table .table-row .table-cell {
    grid-column: 1 / -1 !important;
    text-align: center;
  }
}

.nav-left a {
  text-decoration: none;
}

.nav-left h1 {
  margin: 0;
  font-size: 20px;
  color: #fff;
  white-space: nowrap;
  border-bottom: none;
  text-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

/* Pulsing animation for important elements */
@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes rippleEffect {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) scale(20);
    opacity: 0;
  }
}

@keyframes emergencyPulse {
  0% {
    opacity: 0.8;
  }
  50% {
    opacity: 0.4;
  }
  100% {
    opacity: 0.8;
  }
}

.pulse {
  animation: pulse 2s infinite;
}

/* Modal styles */
.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.5);
  animation: fadeIn 0.3s ease-in-out;
}

.modal-content {
  background: rgba(255, 255, 255, 0.95);
  margin: 5% auto;
  padding: 30px;
  border-radius: 15px;
  width: 80%;
  max-width: 600px;
  box-shadow: 0 0 30px rgba(0,0,0,0.2);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  position: relative;
  animation: slideIn 0.3s ease-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideIn {
  from { transform: translateY(-50px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
  cursor: pointer;
  position: absolute;
  right: 20px;
  top: 15px;
}

.close:hover,
.close:focus {
  color: #ff6b6b;
  text-decoration: none;
}

/* Dark mode styles */
.dark-mode {
  --bg-color: #121212;
  --text-color: #ffffff;
  --card-bg: #1e1e1e;
  --border-color: #333333;
}

.dark-mode body {
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
  color: var(--text-color);
}

.dark-mode .hero {
  background: rgba(30, 30, 46, 0.7);
}

.dark-mode .review-card {
  background: rgba(30, 30, 46, 0.9);
  color: var(--text-color);
}

.dark-mode .stat-item {
  background: rgba(30, 30, 46, 0.9);
  color: var(--text-color);
}

.dark-mode section {
  background: rgba(30, 30, 46, 0.7);
}

.dark-mode .comparison-table .table-header {
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
}

.dark-mode .comparison-table .table-row {
  background: rgba(30, 30, 46, 0.9);
}

.dark-mode .comparison-table .table-row:hover {
  background: rgba(255, 107, 107, 0.2);
}

.dark-mode header {
  background: rgba(30, 30, 46, 0.7);
}

.dark-mode .nav-right a,
.dark-mode .nav-right span,
.dark-mode .dropdown-btn {
  background: rgba(255, 255, 255, 0.1);
  color: var(--text-color);
}

.dark-mode .testimonial {
  background: rgba(30, 30, 46, 0.9);
  color: var(--text-color);
}

.dark-mode #contact {
  background: rgba(30, 30, 46, 0.7);
}

/* Fix for dark mode text visibility */
.dark-mode * {
  color: #ffffff !important;
}

.dark-mode .section-title {
  color: #ffffff !important;
}

.dark-mode .hero h2 {
  color: #ffffff !important;
}

.dark-mode .hero p {
  color: #ffffff !important;
}

.dark-mode .stat-item strong {
  color: #ffeb3b !important;
}

.dark-mode .review-text {
  color: #ffffff !important;
}

.dark-mode .review-author {
  color: #ffeb3b !important;
}

.dark-mode .comparison-table .table-cell {
  color: #ffffff !important;
}

.dark-mode .faq-list li {
  color: #ffffff !important;
}

.dark-mode .who-we-are h2 {
  color: #ffffff !important;
}

.dark-mode .who-we-are p {
  color: #ffffff !important;
}

.dark-mode .content-box h2 {
  color: #ffffff !important;
}

.dark-mode .content-box p {
  color: #ffffff !important;
}

.dark-mode footer {
  color: #ffffff !important;
}

.dark-mode footer a {
  color: #ffeb3b !important;
}

.dark-mode .emergency-btn {
  background: linear-gradient(135deg, #1a1a2e, #16213e);
  box-shadow: 0 4px 15px rgba(26, 26, 46, 0.4);
  color: #ffffff !important;
}

.dark-mode .emergency-btn:hover {
  box-shadow: 0 6px 20px rgba(26, 26, 46, 0.6);
  background: linear-gradient(135deg, #16213e, #1a1a2e);
}

.dark-mode .btn {
  color: #ffffff !important;
}

.dark-mode .nav-left h1 {
  color: #ffffff !important;
}

/* Dark mode dropdown menu styles */
.dark-mode .dropdown-content {
  background-color: #1e1e1e !important;
  color: #ffffff !important;
}

.dark-mode .dropdown-content a {
  color: #ffffff !important;
  background-color: #1e1e1e !important;
}

.dark-mode .dropdown-content a:hover {
  background-color: #333333 !important;
  color: #ffeb3b !important;
}

.dark-mode .dropdown-btn {
  background: rgba(255, 255, 255, 0.1) !important;
  color: #ffffff !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
}

/* Emergency contact buttons */
.emergency-contacts {
  margin-top: 20px;
  padding-top: 20px;
  border-top: 1px solid rgba(255, 255, 255, 0.2);
}

.emergency-contacts h3 {
  text-align: center;
  margin-bottom: 15px;
  color: #ffeb3b;
}

.contact-buttons {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 15px;
}

.emergency-btn {
  display: inline-block;
  background: linear-gradient(135deg, #ff6b6b, #ff8e53);
  color: white;
  text-decoration: none;
  padding: 18px 25px;
  border-radius: 30px;
  font-weight: bold;
  text-align: center;
  transition: all 0.3s ease;
  box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
  border: none;
  cursor: pointer;
  min-width: 150px;
  font-size: 18px;
}

.emergency-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
  background: linear-gradient(135deg, #ff8e53, #ff6b6b);
}

.emergency-btn:active {
  transform: translateY(1px);
}

.dark-mode .emergency-btn {
  background: linear-gradient(135deg, #1a1a2e, #16213e);
  box-shadow: 0 4px 15px rgba(26, 26, 46, 0.4);
}

.dark-mode .emergency-btn:hover {
  box-shadow: 0 6px 20px rgba(26, 26, 46, 0.6);
  background: linear-gradient(135deg, #16213e, #1a1a2e);
}

/* Dark mode toggle button */
.theme-toggle {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: white;
  padding: 8px 12px;
  border-radius: 20px;
  cursor: pointer;
  font-size: 14px;
  transition: all 0.3s ease;
  margin-left: 10px;
  flex-shrink: 0; /* Prevent button from shrinking */
  white-space: nowrap; /* Prevent text wrapping */
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 40px;
  height: 40px;
}

.theme-toggle:hover {
  background: rgba(255, 255, 255, 0.2);
}

.dark-mode .theme-toggle {
  background: rgba(255, 255, 255, 0.2);
}

.dark-mode .theme-toggle:hover {
  background: rgba(255, 255, 255, 0.3);
}
</style>

</head>
<body>
  <!-- Bubbles Container -->
  <div class="bubbles">
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
  </div>
  
  <header class="reveal">
    <div class="nav-left">
        <a href="index.html"><h1> üöë ResQNow </h1></a>
  </div>
    <button class="hamburger" onclick="toggleMenu()">‚ò∞</button>

    <nav class="nav-right" id="mainMenu">
      <a href="#about">About Us</a>
      <a href="#services">Services</a>
      <div class="dropdown">
        <button class="dropdown-btn" onclick="toggleDropdownMenu(event)">More ‚ñº</button>
        <div class="dropdown-content">
          <a href="#why">Why Us?</a>
          <a href="#faq">FAQs</a>
          <a href="#contact">Contact</a>
          <a href="sample.html" id="adminPanelLink" style="display:none;">Admin Panel</a>
          <a href="medical-assistant.html">Medical Assistant</a>
          <a href="hospital-finder.html">Hospital Finder</a>
          <a href="#" id="emergencySimulator">üöë Emergency Simulator</a>
          <a href="#" id="healthTips">üí° Health Tips</a>
          <a href="#" id="firstAid">ü©π First Aid Guide</a>
          <a href="#" id="responseTime">‚è±Ô∏è Live Response Tracker</a>
          <a href="#" id="ambulanceGame">üéÆ Ambulance Challenge</a>
          <a href="#" id="medicalQuiz">üß† Medical Quiz</a>
        </div>
      </div>
      <span class="phone-number">üìû 1800-234-001</span>
      <span id="auth-links" style="position: relative;"></span>
      <button class="theme-toggle" id="themeToggle" title="Toggle dark mode">üåô</button>
    </nav>
  </header>

  <section class="hero reveal pulse">
    <div class="content">
      <h2 style="font-size: 56px; margin-bottom: 25px;"><span id="typewriter"></span></h2>
      <p style="font-size: 28px; margin-bottom: 35px;">Book your ambulance in seconds. We're always ready.</p>
      <div class="button-container">
        <button onclick="checkLogin()" class="btn" id="bookBtn">Book Ambulance Now</button>
        <button onclick="goToSOS()" class="btn" style="background: linear-gradient(135deg, #ff0000, #b30000); margin-left: 20px;" id="sosBtn">üö® Emergency SOS</button>
      </div>
      <div class="interactive-stats">
        <div class="stat-box">
          <span class="stat-number" data-target="24">0</span>
          <span class="stat-label">Hours Support</span>
        </div>
        <div class="stat-box">
          <span class="stat-number" data-target="15">0</span>
          <span class="stat-label">Minute Response</span>
        </div>
      </div>
    </div>
    <img src="ambulance.png" data-src="ambulance.png" alt="Ambulance" class="lazy" id="heroImage" />
  </section>

  <section id="services" class="reveal">
    <h2 class="section-title">Services Offered</h2>
    <div class="section-content">
      <ul class="services-list">
        <li class="service-item" data-service="bls">üöë Basic Life Support (BLS) Ambulances</li>
        <li class="service-item" data-service="als">ü©∫ Advanced Life Support (ALS) Ambulances</li>
        <li class="service-item" data-service="air">üõ´ Air Ambulance Services</li>
        <li class="service-item" data-service="intercity">üöñ Intercity and Emergency Transfers</li>
        <li class="service-item" data-service="icu">üë©‚Äç‚öïÔ∏è ICU on Wheels for critical care transport</li>
      </ul>
      <div class="service-detail" id="serviceDetail">
        <h3>Service Details</h3>
        <p id="serviceDescription">Click on a service to see details.</p>
      </div>
    </div>
  </section>

  <section class="who-we-are reveal" id="about">
    <div class="image-box">
      <img src="ambulance1.png" data-src="ambulance1.png" alt="Ambulance" class="lazy" />
    </div>
    <div class="content-box">
      <h2>Who We Are</h2>
      <p>
        At ResQNow Ambulance, we are a <em>patient-first</em> organization committed to delivering swift,
        reliable, and advanced medical solutions when every second counts.
      </p>
      <p>
        Backed by a team of medical professionals with over two decades of expertise, we bring unmatched
        precision and compassion to each mission.
      </p>
     <div class="stats">
      <div class="stat-item">
        <strong><span class="stat-number" data-target="1500">0</span>+</strong>
        Patient Transfers since 2016
      </div>
      <div class="stat-item">
        <strong><span class="stat-number" data-target="750">0</span>+</strong>
        Hospital Admissions Secured
      </div>
      <div class="stat-item">
        <strong><span class="stat-number" data-target="250">0</span>+</strong>
        ECMO Initiation & Transfers
      </div>
      <div class="stat-item">
        <strong>70%</strong>
        of all organ airlifts in India
      </div>
     </div>
    </div>
  </section>

  <section class="reveal">
    <h2 class="section-title">How to Book</h2>
    <div class="section-content">
      <ol class="booking-steps">
        <li>üìç Enter your location and emergency details.</li>
        <li>üìû Our dispatcher will call to confirm.</li>
        <li>üöë Nearest ambulance is dispatched immediately.</li>
        <li>üè• Patient is transported to the chosen hospital.</li>
      </ol>
    </div>
  </section>

  <section id="why" class="reveal">
    <h2 class="section-title">Why Choose Us?</h2>
    <div class="why-us">
      <p>‚úîÔ∏è 24/7 availability with a fleet of modern ambulances.</p>
      <p>‚úîÔ∏è Trained medical staff on board.</p>
      <p>‚úîÔ∏è Real-time GPS tracking for transparency.</p>
      <div class="testimonial">
        "I was amazed at how quickly the ambulance arrived. The care was top-notch!"<br/>‚Äî S. Mehra, Mumbai
      </div>
    </div>
  </section>

  <section id="reviews" class="reveal">
    <h2 class="section-title">What Our Users Say</h2>
    <div class="carousel-container">
      <div class="carousel" id="testimonialCarousel">
        <div class="carousel-item">
          <div class="review-card">
            <p class="testimonial-content">"Excellent response time and very professional staff. Truly a lifesaver!"</p>
            <p class="testimonial-author">‚Äî Anjali R., Delhi</p>
          </div>
        </div>
        <div class="carousel-item">
          <div class="review-card">
            <p class="testimonial-content">"Booking an ambulance was never this easy. Highly recommended."</p>
            <p class="testimonial-author">‚Äî Ramesh K., Pune</p>
          </div>
        </div>
        <div class="carousel-item">
          <div class="review-card">
            <p class="testimonial-content">"Fast, courteous, and well-equipped service. ResQNow exceeded expectations."</p>
            <p class="testimonial-author">‚Äî Priya S., Bangalore</p>
          </div>
        </div>
        <div class="carousel-item">
          <div class="review-card">
            <p class="testimonial-content">"Got air ambulance within hours! Exceptional coordination and care."</p>
            <p class="testimonial-author">‚Äî Imran M., Hyderabad</p>
          </div>
        </div>
        <div class="carousel-item">
          <div class="review-card">
            <p class="testimonial-content">"The ICU on Wheels service saved my father's life during the transfer. Professional and equipped with advanced medical facilities."</p>
            <p class="testimonial-author">‚Äî Sunita P., Chennai</p>
          </div>
        </div>
        <div class="carousel-item">
          <div class="review-card">
            <p class="testimonial-content">"Used their air ambulance service for an organ transplant. Seamless coordination and top-notch medical care throughout the journey."</p>
            <p class="testimonial-author">‚Äî Dr. Rajesh M., Mumbai</p>
          </div>
        </div>
      </div>
      <div class="carousel-controls">
        <button class="carousel-btn" id="prevBtn">‚Äπ Prev</button>
        <button class="carousel-btn" id="nextBtn">Next ‚Ä∫</button>
      </div>
      <div class="carousel-indicators" id="carouselIndicators">
        <!-- Indicators will be added by JavaScript -->
      </div>
    </div>
  </section>

  <section id="services-comparison" class="reveal">
    <h2 class="section-title">Service Comparison</h2>
    <div class="section-content">
      <div class="comparison-table">
        <div class="table-header">
          <div class="table-cell">Service Type</div>
          <div class="table-cell">Response Time</div>
          <div class="table-cell">Medical Staff</div>
          <div class="table-cell">Equipment</div>
          <div class="table-cell">Price Range</div>
        </div>
        <div class="table-row">
          <div class="table-cell">Basic Life Support</div>
          <div class="table-cell">10-15 mins</div>
          <div class="table-cell">Paramedic</div>
          <div class="table-cell">Oxygen, BP Monitor</div>
          <div class="table-cell">‚Çπ800-1200</div>
        </div>
        <div class="table-row">
          <div class="table-cell">Advanced Life Support</div>
          <div class="table-cell">8-12 mins</div>
          <div class="table-cell">Doctor + Paramedic</div>
          <div class="table-cell">Ventilator, Defibrillator</div>
          <div class="table-cell">‚Çπ1500-2500</div>
        </div>
        <div class="table-row">
          <div class="table-cell">ICU on Wheels</div>
          <div class="table-cell">5-10 mins</div>
          <div class="table-cell">Specialist Doctor</div>
          <div class="table-cell">Full ICU Setup</div>
          <div class="table-cell">‚Çπ3000-5000</div>
        </div>
        <div class="table-row">
          <div class="table-cell">Air Ambulance</div>
          <div class="table-cell">30-60 mins</div>
          <div class="table-cell">Critical Care Team</div>
          <div class="table-cell">Advanced Life Support</div>
          <div class="table-cell">‚Çπ25000-50000</div>
        </div>
      </div>
      <button class="btn" onclick="showBookingModal()" style="margin-top: 20px;">Book Advanced Service</button>
    </div>
  </section>
  
  <section id="faq" class="reveal">
    <h2 class="section-title">Frequently Asked Questions</h2>
    <div class="section-content">
      <ul class="faq-list">
        <li class="faq-item"><strong>Q:</strong> How fast can I get an ambulance?<br/><strong>A:</strong> Average arrival time is under 15 minutes in metros.</li>
        <li class="faq-item"><strong>Q:</strong> Is the service available 24/7?<br/><strong>A:</strong> Yes, we are operational round-the-clock.</li>
        <li class="faq-item"><strong>Q:</strong> Do you provide air ambulance services?<br/><strong>A:</strong> Yes, across major cities in India.</li>
      </ul>
    </div>
  </section>

  <footer class="reveal" id="contact">
    <p>¬© 2025 All rights reserved.</p>
    <p><strong>Phone:</strong> 1800-234-001</p>
    <p><strong>Email:</strong> <a href="mailto:support@resqnow.com" style="color: #ffeb3b;">support@resqnow.com</a></p>
    
    <div class="emergency-contacts">
      <h3>Emergency Contacts</h3>
      <div class="contact-buttons">
        <a href="tel:1800234001" class="emergency-btn">üöë Ambulance <br>1800-234-001</a>
        <a href="tel:102" class="emergency-btn">üö® Police <br>102</a>
        <a href="tel:101" class="emergency-btn">üî• Fire <br>101</a>
        <a href="tel:108" class="emergency-btn">‚öïÔ∏è Medical <br>108</a>
      </div>
    </div>
  </footer>
<script>
// Toggle hamburger menu
function toggleMenu() {
  const menu = document.getElementById('mainMenu');
  menu.classList.toggle('show');
}

// Toggle dropdown menu
function toggleDropdownMenu(event) {
  event.stopPropagation();
  const dropdownContent = event.currentTarget.nextElementSibling;
  
  // Check if we're on mobile view
  const isMobile = window.innerWidth <= 768;
  
  if (isMobile) {
    // For mobile, use class toggle
    dropdownContent.classList.toggle('show');
    
    // Close other dropdowns
    const allDropdowns = document.querySelectorAll('.dropdown-content');
    allDropdowns.forEach(dropdown => {
      if (dropdown !== dropdownContent) {
        dropdown.classList.remove('show');
      }
    });
  } else {
    // For desktop, use display toggle
    dropdownContent.style.display = dropdownContent.style.display === 'block' ? 'none' : 'block';
    
    // Close other dropdowns
    const allDropdowns = document.querySelectorAll('.dropdown-content');
    allDropdowns.forEach(dropdown => {
      if (dropdown !== dropdownContent) {
        dropdown.style.display = 'none';
      }
    });
  }
}

// Close dropdown when clicking outside
document.addEventListener('click', function(event) {
  const dropdowns = document.querySelectorAll('.dropdown-content');
  const isMobile = window.innerWidth <= 768;
  
  dropdowns.forEach(dropdown => {
    if (!event.target.closest('.dropdown')) {
      if (isMobile) {
        dropdown.classList.remove('show');
      } else {
        dropdown.style.display = 'none';
      }
    }
  });
});

// Toggle mobile dropdown menu
function toggleMobileDropdown(event) {
  event.stopPropagation();
  const dropdownContent = event.currentTarget.nextElementSibling;
  dropdownContent.classList.toggle('show');
}

// Prevent hamburger toggle from closing instantly
document.querySelector('.hamburger').addEventListener('click', function(event) {
  event.stopPropagation();
});

// Prevent nav from closing on click inside it
document.getElementById('mainMenu').addEventListener('click', function(event) {
  event.stopPropagation();
});

// Close both menus if clicked outside
document.addEventListener('click', function(event) {
  const userMenu = document.getElementById("userDropdownMenu");
  const dropdownBtn = document.querySelector('.dropdown-btn');
  const hamburger = document.querySelector('.hamburger');
  const navMenu = document.getElementById('mainMenu');

  // Dropdown close
  if (userMenu && dropdownBtn && !userMenu.contains(event.target) && !dropdownBtn.contains(event.target)) {
    const isMobile = window.innerWidth <= 768;
    if (isMobile) {
      userMenu.classList.remove('show');
    } else {
      userMenu.style.display = "none";
    }
  }

  // Hamburger menu close
  if (navMenu.classList.contains("show") && !navMenu.contains(event.target) && !hamburger.contains(event.target)) {
    navMenu.classList.remove("show");
  }
});

  // Hero typewriter
  const phrases = ["Fast, Reliable Emergency Help", "Book Ambulance 24/7"];
  const typewriter = document.getElementById("typewriter");
  let phraseIndex = 0, charIndex = 0, typing = true;

  function typeLoop() {
    if (!typewriter) return; // Exit if element not found
    const current = phrases[phraseIndex];
    typewriter.textContent = typing ? current.slice(0, ++charIndex) : current.slice(0, --charIndex);
    if (typing && charIndex === current.length) {
      typing = false; setTimeout(typeLoop, 2000);
    } else if (!typing && charIndex === 0) {
      typing = true; phraseIndex = (phraseIndex + 1) % phrases.length; setTimeout(typeLoop, 500);
    } else {
      setTimeout(typeLoop, typing ? 100 : 50);
    }
  }
  typeLoop();

  // Animate stats on scroll
  function animateStats() {
    const statNumbers = document.querySelectorAll('.stat-number');
    statNumbers.forEach(stat => {
      const target = +stat.getAttribute('data-target');
      let current = 0;
      const increment = target / 100; // Animate over ~1.5s

      const updateCount = () => {
        if (current < target) {
          current += increment;
          stat.innerText = Math.ceil(current);
          requestAnimationFrame(updateCount);
        } else {
          stat.innerText = target;
        }
      };
      updateCount();
    });
  }

  // Scroll reveal and stats animation trigger
  let hasCounted = false;
  const reveals = document.querySelectorAll('.reveal');
  const revealObserver = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('active');
        // Check if the stats section is intersecting and hasn't been animated yet
        if (entry.target.querySelector('.stats') && !hasCounted) {
          animateStats();
          hasCounted = true; // Ensure it only runs once
        }
        // No need to unobserve, let it stay active
      }
    });
  }, { threshold: 0.15 });

  reveals.forEach(r => revealObserver.observe(r));

  // Lazy load images
  const images = document.querySelectorAll('img[data-src]');
  const imageObserver = new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const img = entry.target;
        img.src = img.dataset.src;
        img.classList.add('loaded');
        img.classList.remove('lazy');
        observer.unobserve(img);
      }
    });
  });

  images.forEach(img => imageObserver.observe(img));

  // Progress bar based on scroll position
  const progressBar = document.createElement('div');
  progressBar.id = 'scroll-progress';
  progressBar.style.cssText = `
    position: fixed;
    top: 0;
    left: 0;
    height: 4px;
    background: linear-gradient(90deg, #ff6b6b, #ff8e53);
    z-index: 9999;
    transition: width 0.1s ease;
  `;
  document.body.appendChild(progressBar);

  window.addEventListener('scroll', () => {
    const scrollTop = window.scrollY;
    const docHeight = document.body.scrollHeight - window.innerHeight;
    const scrollPercent = (scrollTop / docHeight) * 100;
    progressBar.style.width = scrollPercent + '%';
  });

  // Active section highlighting in navbar
  const sections = document.querySelectorAll('section');
  const navLinks = document.querySelectorAll('.nav-right a[href^="#"]');
  
  const sectionObserver = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const id = entry.target.id;
        navLinks.forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href') === '#' + id) {
            link.classList.add('active');
          }
        });
      }
    });
  }, { threshold: 0.5 });

  sections.forEach(section => sectionObserver.observe(section));

  // Custom animations for specific elements
  const animatedElements = document.querySelectorAll('.stat-item, .service-item, .faq-item');
  const animationObserver = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.style.animation = 'fadeInUp 0.6s ease forwards';
        animationObserver.unobserve(entry.target);
      }
    });
  }, { threshold: 0.1 });

  animatedElements.forEach(el => animationObserver.observe(el));

  // Parallax effect for bubbles
  const bubbles = document.querySelectorAll('.bubble');
  window.addEventListener('scroll', () => {
    const scrollPosition = window.scrollY;
    bubbles.forEach((bubble, index) => {
      const speed = (index % 3 + 1) * 0.2;
      bubble.style.transform = `translateY(${scrollPosition * speed}px)`;
    });
  });

  // Scroll to top button
  const scrollToTopBtn = document.createElement('button');
  scrollToTopBtn.innerHTML = '‚Üë';
  scrollToTopBtn.id = 'scrollToTop';
  scrollToTopBtn.style.cssText = `
    position: fixed;
    bottom: 30px;
    right: 30px;
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #ff6b6b, #ff8e53);
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    font-size: 24px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    z-index: 9999;
    display: none;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
  `;
  document.body.appendChild(scrollToTopBtn);

  window.addEventListener('scroll', () => {
    if (window.scrollY > 300) {
      scrollToTopBtn.style.display = 'flex';
    } else {
      scrollToTopBtn.style.display = 'none';
    }
  });

  scrollToTopBtn.addEventListener('click', () => {
    window.scrollTo({
      top: 0,
      behavior: 'smooth'
    });
  });

  // Interactive cursor effect
  const cursor = document.createElement('div');
  cursor.id = 'custom-cursor';
  cursor.style.cssText = `
    position: fixed;
    width: 20px;
    height: 20px;
    border: 2px solid #ff6b6b;
    border-radius: 50%;
    pointer-events: none;
    transform: translate(-50%, -50%);
    z-index: 99999;
    transition: all 0.1s ease;
    mix-blend-mode: difference;
  `;
  document.body.appendChild(cursor);

  document.addEventListener('mousemove', (e) => {
    cursor.style.left = e.clientX + 'px';
    cursor.style.top = e.clientY + 'px';
  });

  document.addEventListener('mousedown', () => {
    cursor.style.transform = 'translate(-50%, -50%) scale(0.5)';
    cursor.style.borderColor = '#ff8e53';
  });

  document.addEventListener('mouseup', () => {
    cursor.style.transform = 'translate(-50%, -50%) scale(1)';
    cursor.style.borderColor = '#ff6b6b';
  });

  // Add hover effect to interactive elements
  const interactiveElements = document.querySelectorAll('button, a, .btn');
  interactiveElements.forEach(el => {
    el.addEventListener('mouseenter', () => {
      cursor.style.transform = 'translate(-50%, -50%) scale(1.5)';
      cursor.style.borderColor = '#fff';
    });
    
    el.addEventListener('mouseleave', () => {
      cursor.style.transform = 'translate(-50%, -50%) scale(1)';
      cursor.style.borderColor = '#ff6b6b';
    });
  });

  // Add floating animation to hero buttons
  const heroButtons = document.querySelectorAll('.hero .btn');
  heroButtons.forEach((btn, index) => {
    setInterval(() => {
      const floatAmount = Math.sin(Date.now() / 1000 + index) * 5;
      btn.style.transform = `translateY(${floatAmount}px)`;
    }, 50);
  });

  // Add click ripple effect
  document.addEventListener('click', (e) => {
    const ripple = document.createElement('span');
    ripple.classList.add('ripple');
    ripple.style.cssText = `
      position: absolute;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: rgba(255, 107, 107, 0.5);
      transform: translate(-50%, -50%);
      animation: rippleEffect 0.6s linear;
      pointer-events: none;
      z-index: 9999;
    `;
    ripple.style.left = e.clientX + 'px';
    ripple.style.top = e.clientY + 'px';
    document.body.appendChild(ripple);
    
    setTimeout(() => {
      ripple.remove();
    }, 600);
  });

  // Animate interactive stats
  function animateInteractiveStats() {
    const statNumbers = document.querySelectorAll('.interactive-stats .stat-number');
    statNumbers.forEach(stat => {
      const target = +stat.getAttribute('data-target');
      let current = 0;
      const increment = target / 50; // Animate over ~1s
      
      const updateCount = () => {
        if (current < target) {
          current += increment;
          stat.innerText = Math.ceil(current);
          requestAnimationFrame(updateCount);
        } else {
          stat.innerText = target;
        }
      };
      updateCount();
    });
  }

  // Trigger interactive stats animation when hero section is in view
  const heroSection = document.querySelector('.hero');
  const heroObserver = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        animateInteractiveStats();
        heroObserver.unobserve(entry.target);
      }
    });
  }, { threshold: 0.5 });

  heroObserver.observe(heroSection);

  // Service detail functionality
  const serviceItems = document.querySelectorAll('.service-item');
  const serviceDetail = document.getElementById('serviceDetail');
  const serviceDescription = document.getElementById('serviceDescription');
  
  const serviceDetails = {
    bls: 'Our Basic Life Support (BLS) ambulances are equipped with essential medical equipment including oxygen supply, basic life support medications, and trained paramedics. Perfect for non-critical medical emergencies and routine patient transfers.',
    als: 'Advanced Life Support (ALS) ambulances provide comprehensive pre-hospital care with advanced medical equipment, medications, and staffed by doctors and paramedics. Ideal for critical care situations requiring advanced interventions.',
    air: 'Our Air Ambulance services provide rapid transportation across long distances with medical teams and equipment onboard. Available 24/7 for critical cases requiring immediate specialized care at distant facilities.',
    intercity: 'Intercity and Emergency Transfer services ensure safe and comfortable transportation between cities with medical supervision. Our fleet includes both basic and advanced life support vehicles depending on patient needs.',
    icu: 'ICU on Wheels brings critical care capabilities directly to patients in remote locations. Fully equipped with ventilators, monitors, and staffed by critical care specialists for complex medical emergencies.'
  };
  
  serviceItems.forEach(item => {
    item.addEventListener('click', () => {
      const service = item.getAttribute('data-service');
      serviceDescription.textContent = serviceDetails[service];
      serviceDetail.classList.add('visible');
      
      // Add active class to clicked item
      serviceItems.forEach(i => i.classList.remove('active'));
      item.classList.add('active');
      
      // Scroll to service detail
      serviceDetail.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    });
  });

  // Emergency alert feature
  let alertCount = 0;
  const sosBtn = document.getElementById('sosBtn');
  
  sosBtn.addEventListener('click', (e) => {
    alertCount++;
    
    // Create emergency alert effect
    if (alertCount % 3 === 0) { // Every 3rd click
      const alertOverlay = document.createElement('div');
      alertOverlay.id = 'emergency-alert';
      alertOverlay.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 0, 0, 0.8);
        z-index: 10000;
        display: flex;
        align-items: center;
        justify-content: center;
        animation: emergencyPulse 1s infinite;
        pointer-events: none;
      `;
      
      alertOverlay.innerHTML = `
        <div style="text-align: center; color: white; font-size: 48px; font-weight: bold; text-shadow: 0 0 20px rgba(0,0,0,0.5);">
          <div>üö® EMERGENCY ALERT üö®</div>
          <div style="font-size: 24px; margin-top: 20px;">Help is on the way!</div>
        </div>
      `;
      
      document.body.appendChild(alertOverlay);
      
      // Remove after 3 seconds
      setTimeout(() => {
        alertOverlay.remove();
      }, 3000);
    }
  });

  // Typing effect for service description
  function typeText(element, text, speed = 30) {
    element.textContent = '';
    let i = 0;
    const timer = setInterval(() => {
      if (i < text.length) {
        element.textContent += text.charAt(i);
        i++;
      } else {
        clearInterval(timer);
      }
    }, speed);
  }

  // Apply typing effect to service description
  const originalServiceDescription = serviceDescription.textContent;
  const observer = new MutationObserver(mutations => {
    mutations.forEach(mutation => {
      if (mutation.type === 'childList' && serviceDescription.textContent !== originalServiceDescription) {
        const text = serviceDescription.textContent;
        serviceDescription.textContent = '';
        typeText(serviceDescription, text);
      }
    });
  });

  observer.observe(serviceDescription, { childList: true, subtree: true });

  // Login Check
  function checkLogin() {
    const isLoggedIn = localStorage.getItem("loggedIn");
    if (isLoggedIn === "true") {
      window.location.href = "book.html";
    } else {
      alert("Please log in first.");
      window.location.href = "login.html";
    }
  }
  
  // Go to SOS page
  function goToSOS() {
    window.location.href = "sos.html";
  }
  
  // Update Navbar Auth Links
  function updateNavbarAuthLinks() {
    const container = document.getElementById("auth-links");
    const isLoggedIn = localStorage.getItem("loggedIn") === "true";
    const name = localStorage.getItem("userName") || "User";
    const role = localStorage.getItem("userRole");
    
    if (isLoggedIn) {
      let dropdownHTML = `
        <div class="dropdown">
          <button class="dropdown-btn" onclick="toggleDropdown(event)">üë§ ${name} ‚ñº</button>
          <div class="dropdown-content" id="userDropdownMenu">
            <a href="profile.html">Profile</a>
            <a href="history.html">Booking History</a>
            <a href="forgot-password.html">Reset Password</a>
      `;
      
      // Add role-specific links
      if (role === 'admin') {
        dropdownHTML += `
            <a href="admin-dashboard.html">Admin Dashboard</a>
        `;
      } else if (role === 'driver') {
        dropdownHTML += `
            <a href="driver-dashboard.html">Driver Dashboard</a>
        `;
      } else {
        dropdownHTML += `
            <a href="dashboard.html">Dashboard</a>
        `;
      }
      
      dropdownHTML += `
            <a href="#" onclick="logout()">Logout</a>
          </div>
        </div>
      `;
      
      container.innerHTML = dropdownHTML;
    } else {
      container.innerHTML = `<a href="login.html">Login/SignUp</a>`;
    }
  }

  // Add event listeners for new dropdown features
  document.addEventListener('DOMContentLoaded', function() {
    // Emergency Simulator
    const emergencySimulator = document.getElementById('emergencySimulator');
    if (emergencySimulator) {
      emergencySimulator.addEventListener('click', function(e) {
        e.preventDefault();
        showEmergencySimulator();
      });
    }

    // Health Tips
    const healthTips = document.getElementById('healthTips');
    if (healthTips) {
      healthTips.addEventListener('click', function(e) {
        e.preventDefault();
        showHealthTips();
      });
    }

    // First Aid Guide
    const firstAid = document.getElementById('firstAid');
    if (firstAid) {
      firstAid.addEventListener('click', function(e) {
        e.preventDefault();
        showFirstAidGuide();
      });
    }

    // Live Response Tracker
    const responseTime = document.getElementById('responseTime');
    if (responseTime) {
      responseTime.addEventListener('click', function(e) {
        e.preventDefault();
        showResponseTracker();
      });
    }

    // Ambulance Game
    const ambulanceGame = document.getElementById('ambulanceGame');
    if (ambulanceGame) {
      ambulanceGame.addEventListener('click', function(e) {
        e.preventDefault();
        showAmbulanceGame();
      });
    }

    // Medical Quiz
    const medicalQuiz = document.getElementById('medicalQuiz');
    if (medicalQuiz) {
      medicalQuiz.addEventListener('click', function(e) {
        e.preventDefault();
        showMedicalQuiz();
      });
    }
  });

  // Emergency Simulator
  function showEmergencySimulator() {
    // Create modal
    const modal = document.createElement('div');
    modal.style.cssText = `
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
    `;

    modal.innerHTML = `
      <div style="background: white; padding: 30px; border-radius: 15px; max-width: 80%; max-height: 80%; overflow-y: auto; position: relative;">
        <button id="closeModal" style="position: absolute; top: 10px; right: 10px; background: #ff6b6b; color: white; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer;">‚úï</button>
        <h2 style="color: #ff6b6b; margin-top: 0;">üöë Emergency Response Simulator</h2>
        <p>This interactive simulator shows how our emergency response system works:</p>
        <div id="simulator-content" style="margin: 20px 0; min-height: 200px; background: #f0f0f0; padding: 20px; border-radius: 10px; position: relative; overflow: hidden;">
          <div id="simulator-steps">
            <div style="display: flex; justify-content: space-between; margin-bottom: 30px;">
              <div class="sim-step" id="step1" style="text-align: center; padding: 10px; background: #e0e0e0; border-radius: 10px; flex: 1; margin: 0 5px;">
                <div style="font-size: 30px;">üìû</div>
                <div>Call Received</div>
              </div>
              <div class="sim-step" id="step2" style="text-align: center; padding: 10px; background: #e0e0e0; border-radius: 10px; flex: 1; margin: 0 5px;">
                <div style="font-size: 30px;">.Dispatch</div>
                <div>Ambulance Dispatched</div>
              </div>
              <div class="sim-step" id="step3" style="text-align: center; padding: 10px; background: #e0e0e0; border-radius: 10px; flex: 1; margin: 0 5px;">
                <div style="font-size: 30px;">.üìç</div>
                <div>On Scene</div>
              </div>
              <div class="sim-step" id="step4" style="text-align: center; padding: 10px; background: #e0e0e0; border-radius: 10px; flex: 1; margin: 0 5px;">
                <div style="font-size: 30px;">.üè•</div>
                <div>Hospital Arrival</div>
              </div>
            </div>
            <div style="text-align: center; margin-top: 20px;">
              <button id="startSimulation" style="background: #4CAF50; color: white; padding: 15px 30px; border: none; border-radius: 30px; font-size: 18px; cursor: pointer;">Start Simulation</button>
            </div>
          </div>
        </div>
        <p>Our average response time is under 15 minutes in urban areas.</p>
      </div>
    `;

    document.body.appendChild(modal);

    // Add event listeners
    document.getElementById('closeModal').addEventListener('click', function() {
      modal.remove();
    });

    document.getElementById('startSimulation').addEventListener('click', function() {
      startSimulation();
    });

    // Close modal when clicking outside
    modal.addEventListener('click', function(e) {
      if (e.target === modal) {
        modal.remove();
      }
    });
  }

  // Start simulation animation
  function startSimulation() {
    const steps = ['step1', 'step2', 'step3', 'step4'];
    let currentStep = 0;

    // Reset all steps
    steps.forEach(step => {
      document.getElementById(step).style.background = '#e0e0e0';
    });

    // Animate steps
    const interval = setInterval(() => {
      if (currentStep < steps.length) {
        document.getElementById(steps[currentStep]).style.background = '#4CAF50';
        document.getElementById(steps[currentStep]).style.color = 'white';
        currentStep++;
      } else {
        clearInterval(interval);
        // Show completion message
        const content = document.getElementById('simulator-content');
        const completionMsg = document.createElement('div');
        completionMsg.innerHTML = `
          <div style="text-align: center; padding: 20px; background: #e8f5e9; border-radius: 10px; margin-top: 20px;">
            <div style="font-size: 40px; margin-bottom: 10px;">‚úÖ</div>
            <h3>Simulation Complete!</h3>
            <p>Emergency response completed in <strong>12 minutes 35 seconds</strong></p>
          </div>
        `;
        content.appendChild(completionMsg);
      }
    }, 1000);
  }

  // Health Tips
  function showHealthTips() {
    // Create modal
    const modal = document.createElement('div');
    modal.style.cssText = `
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
    `;

    // Health tips data
    const tips = [
      {
        title: "Recognize Heart Attack Symptoms",
        content: "Chest pain, shortness of breath, nausea, lightheadedness, or pain in the jaw, neck, back, arm, or shoulder. Call 1800-234-001 immediately."
      },
      {
        title: "Stroke Warning Signs",
        content: "Face drooping, arm weakness, speech difficulty. Remember FAST: Face, Arms, Speech, Time to call emergency services."
      },
      {
        title: "Choking Emergency",
        content: "If someone is choking and can't speak, cough, or breathe, perform the Heimlich maneuver. Stand behind them, wrap your arms around their waist, and give quick upward thrusts."
      },
      {
        title: "Burn Treatment",
        content: "For minor burns, cool with running water for 10-20 minutes. Remove jewelry and tight clothing near the burn. Cover with a clean, dry cloth. Seek medical attention for serious burns."
      },
      {
        title: "CPR Basics",
        content: "If someone is unresponsive and not breathing normally, call 1800-234-001, then start chest compressions. Push hard and fast in the center of the chest at least 2 inches deep at a rate of 100-120 compressions per minute."
      }
    ];

    let currentTip = 0;

    function renderTip(index) {
      return `
        <div style="background: white; padding: 30px; border-radius: 15px; max-width: 80%; max-height: 80%; overflow-y: auto; position: relative;">
          <button id="closeModal" style="position: absolute; top: 10px; right: 10px; background: #ff6b6b; color: white; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer;">‚úï</button>
          <h2 style="color: #ff6b6b; margin-top: 0;">üí° Health Tip #${index + 1}</h2>
          <h3>${tips[index].title}</h3>
          <p>${tips[index].content}</p>
          <div style="display: flex; justify-content: space-between; margin-top: 20px;">
            <button id="prevTip" style="background: #6c757d; color: white; padding: 10px 20px; border: none; border-radius: 30px; cursor: pointer;" ${index === 0 ? 'disabled' : ''}>Previous</button>
            <button id="nextTip" style="background: #ff6b6b; color: white; padding: 10px 20px; border: none; border-radius: 30px; cursor: pointer;" ${index === tips.length - 1 ? 'disabled' : ''}>Next</button>
          </div>
        </div>
      `;
    }

    modal.innerHTML = renderTip(currentTip);
    document.body.appendChild(modal);

    // Add event listeners
    function updateModal() {
      modal.innerHTML = renderTip(currentTip);
      
      document.getElementById('closeModal').addEventListener('click', function() {
        modal.remove();
      });
      
      if (document.getElementById('prevTip')) {
        document.getElementById('prevTip').addEventListener('click', function() {
          if (currentTip > 0) {
            currentTip--;
            updateModal();
          }
        });
      }
      
      if (document.getElementById('nextTip')) {
        document.getElementById('nextTip').addEventListener('click', function() {
          if (currentTip < tips.length - 1) {
            currentTip++;
            updateModal();
          }
        });
      }
      
      // Close modal when clicking outside
      modal.addEventListener('click', function(e) {
        if (e.target === modal) {
          modal.remove();
        }
      });
    }

    updateModal();
  }

  // First Aid Guide
  function showFirstAidGuide() {
    // Create modal
    const modal = document.createElement('div');
    modal.style.cssText = `
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
    `;

    modal.innerHTML = `
      <div style="background: white; padding: 30px; border-radius: 15px; max-width: 80%; max-height: 80%; overflow-y: auto; position: relative;">
        <button id="closeModal" style="position: absolute; top: 10px; right: 10px; background: #ff6b6b; color: white; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer;">‚úï</button>
        <h2 style="color: #ff6b6b; margin-top: 0;">ü©π First Aid Quick Guide</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
          <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 5px solid #ff6b6b;">
            <h3>_bleeding</h3>
            <p>Apply direct pressure to the wound with a clean cloth. Elevate the injured area above heart level if possible. Seek medical attention for severe bleeding.</p>
          </div>
          <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 5px solid #ff6b6b;">
            <h3>Fractures</h3>
            <p>Do not move the person unless necessary. Immobilize the injured area with splints if available. Apply ice to reduce swelling. Call emergency services immediately.</p>
          </div>
          <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 5px solid #ff6b6b;">
            <h3>Burns</h3>
            <p>Cool the burn with running water for at least 10 minutes. Remove jewelry and tight clothing near the burn. Cover with a clean, dry cloth. Do not apply ice, butter, or ointments.</p>
          </div>
          <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 5px solid #ff6b6b;">
            <h3>Choking</h3>
            <p>If the person can cough, encourage them to continue. If they cannot cough, speak, or breathe, perform the Heimlich maneuver. Stand behind them, wrap your arms around their waist, and give quick upward thrusts.</p>
          </div>
          <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 5px solid #ff6b6b;">
            <h3>CPR</h3>
            <p>If someone is unresponsive and not breathing normally, call 1800-234-001. Place the heel of one hand on the center of the chest, place the other hand on top, and interlock fingers. Push hard and fast at least 2 inches deep at a rate of 100-120 compressions per minute.</p>
          </div>
          <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 5px solid #ff6b6b;">
            <h3>Heart Attack</h3>
            <p>Call 1800-234-001 immediately. Have the person sit down, rest, and stay calm. Loosen tight clothing. If prescribed, help them take their nitroglycerin. If unconscious and not breathing, begin CPR.</p>
          </div>
        </div>
        <p style="margin-top: 20px; text-align: center; font-weight: bold;">Remember: When in doubt, always call 1800-234-001 for professional medical assistance.</p>
      </div>
    `;

    document.body.appendChild(modal);

    // Add event listeners
    document.getElementById('closeModal').addEventListener('click', function() {
      modal.remove();
    });

    // Close modal when clicking outside
    modal.addEventListener('click', function(e) {
      if (e.target === modal) {
        modal.remove();
      }
    });
  }

  // Live Response Tracker
  function showResponseTracker() {
    // Create modal
    const modal = document.createElement('div');
    modal.style.cssText = `
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
    `;

    modal.innerHTML = `
      <div style="background: white; padding: 30px; border-radius: 15px; max-width: 80%; max-height: 80%; overflow-y: auto; position: relative;">
        <button id="closeModal" style="position: absolute; top: 10px; right: 10px; background: #ff6b6b; color: white; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer;">‚úï</button>
        <h2 style="color: #ff6b6b; margin-top: 0;">‚è±Ô∏è Live Response Tracker</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0;">
          <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 15px; text-align: center;">
            <div style="font-size: 40px; margin-bottom: 10px;">.üìç</div>
            <h3>Ambulances Active</h3>
            <div style="font-size: 32px; font-weight: bold;" id="activeAmbulances">127</div>
          </div>
          <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 20px; border-radius: 15px; text-align: center;">
            <div style="font-size: 40px; margin-bottom: 10px;">.‚è±Ô∏è</div>
            <h3>Avg Response Time</h3>
            <div style="font-size: 32px; font-weight: bold;" id="avgResponseTime">12:45</div>
          </div>
          <div style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; padding: 20px; border-radius: 15px; text-align: center;">
            <div style="font-size: 40px; margin-bottom: 10px;">.üìû</div>
            <h3>Calls Today</h3>
            <div style="font-size: 32px; font-weight: bold;" id="callsToday">42</div>
          </div>
          <div style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); color: white; padding: 20px; border-radius: 15px; text-align: center;">
            <div style="font-size: 40px; margin-bottom: 10px;">.‚úÖ</div>
            <h3>Successful Transports</h3>
            <div style="font-size: 32px; font-weight: bold;" id="successfulTransports">38</div>
          </div>
        </div>
        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-top: 20px;">
          <h3 style="margin-top: 0;">Live Ambulance Locations</h3>
          <div style="height: 200px; background: #e9ecef; border-radius: 10px; position: relative; overflow: hidden;">
            <div style="position: absolute; top: 20%; left: 10%; font-size: 24px;">.üöë</div>
            <div style="position: absolute; top: 40%; left: 30%; font-size: 24px;">.üöë</div>
            <div style="position: absolute; top: 60%; left: 60%; font-size: 24px;">.üöë</div>
            <div style="position: absolute; top: 30%; left: 80%; font-size: 24px;">.üöë</div>
            <div style="position: absolute; top: 70%; left: 40%; font-size: 24px;">.üöë</div>
            <div style="position: absolute; top: 50%; left: 20%; font-size: 24px;">.üöë</div>
            <div style="position: absolute; top: 20%; left: 70%; font-size: 24px;">.üöë</div>
          </div>
        </div>
        <p style="margin-top: 20px; text-align: center;">Data updates every 30 seconds. Last updated: <span id="lastUpdate">${new Date().toLocaleTimeString()}</span></p>
      </div>
    `;

    document.body.appendChild(modal);

    // Add event listeners
    document.getElementById('closeModal').addEventListener('click', function() {
      modal.remove();
    });

    // Close modal when clicking outside
    modal.addEventListener('click', function(e) {
      if (e.target === modal) {
        modal.remove();
      }
    });

    // Update data periodically
    function updateData() {
      document.getElementById('activeAmbulances').textContent = Math.floor(Math.random() * 20) + 120;
      document.getElementById('avgResponseTime').textContent = `${Math.floor(Math.random() * 3) + 10}:${Math.floor(Math.random() * 60).toString().padStart(2, '0')}`;
      document.getElementById('callsToday').textContent = Math.floor(Math.random() * 10) + 35;
      document.getElementById('successfulTransports').textContent = Math.floor(Math.random() * 8) + 32;
      document.getElementById('lastUpdate').textContent = new Date().toLocaleTimeString();
    }

    // Initial update
    updateData();
    
    // Update every 5 seconds
    const interval = setInterval(updateData, 5000);
    
    // Clear interval when modal is closed
    modal.addEventListener('DOMNodeRemoved', function() {
      clearInterval(interval);
    });
  }

  // Ambulance Game
  function showAmbulanceGame() {
    // Create modal
    const modal = document.createElement('div');
    modal.style.cssText = `
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
    `;

    modal.innerHTML = `
      <div style="background: white; padding: 30px; border-radius: 15px; max-width: 80%; max-height: 80%; overflow-y: auto; position: relative;">
        <button id="closeModal" style="position: absolute; top: 10px; right: 10px; background: #ff6b6b; color: white; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer;">‚úï</button>
        <h2 style="color: #ff6b6b; margin-top: 0;">üéÆ Ambulance Challenge</h2>
        <div style="text-align: center; margin: 20px 0;">
          <div style="font-size: 60px; margin-bottom: 20px;">.üöó</div>
          <p>Navigate the ambulance through traffic to reach the hospital as quickly as possible!</p>
          <div style="margin: 20px 0; font-size: 24px; font-weight: bold;">Score: <span id="gameScore">0</span></div>
          <div style="margin: 20px 0; font-size: 18px;">Time: <span id="gameTime">60</span>s</div>
          <button id="startGame" style="background: #4CAF50; color: white; padding: 15px 30px; border: none; border-radius: 30px; font-size: 18px; cursor: pointer; margin: 10px;">Start Game</button>
          <div id="gameArea" style="width: 100%; height: 200px; background: #e9ecef; border-radius: 10px; margin: 20px 0; position: relative; display: none; overflow: hidden;">
            <div id="playerCar" style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); font-size: 40px;">.üöë</div>
            <div id="obstacles"></div>
          </div>
          <div id="gameControls" style="display: none; margin: 20px 0;">
            <p>Use LEFT and RIGHT arrow keys to move the ambulance</p>
            <div style="display: flex; justify-content: center; gap: 20px; margin-top: 10px;">
              <button id="moveLeft" style="background: #6c757d; color: white; padding: 10px 20px; border: none; border-radius: 30px; cursor: pointer;">‚Üê Left</button>
              <button id="moveRight" style="background: #6c757d; color: white; padding: 10px 20px; border: none; border-radius: 30px; cursor: pointer;">Right ‚Üí</button>
            </div>
          </div>
        </div>
      </div>
    `;

    document.body.appendChild(modal);

    // Add event listeners
    document.getElementById('closeModal').addEventListener('click', function() {
      modal.remove();
    });

    // Close modal when clicking outside
    modal.addEventListener('click', function(e) {
      if (e.target === modal) {
        modal.remove();
      }
    });

    // Game functionality
    document.getElementById('startGame').addEventListener('click', function() {
      startAmbulanceGame();
    });
  }

  // Start Ambulance Game
  function startAmbulanceGame() {
    document.getElementById('startGame').style.display = 'none';
    document.getElementById('gameArea').style.display = 'block';
    document.getElementById('gameControls').style.display = 'block';
    
    let score = 0;
    let timeLeft = 60;
    let playerPosition = 50; // Percentage from left
    const playerCar = document.getElementById('playerCar');
    const gameArea = document.getElementById('gameArea');
    const obstacles = document.getElementById('obstacles');
    
    // Update score display
    function updateScore() {
      document.getElementById('gameScore').textContent = score;
    }
    
    // Update time display
    function updateTime() {
      document.getElementById('gameTime').textContent = timeLeft;
    }
    
    // Move player car
    function movePlayer(direction) {
      if (direction === 'left' && playerPosition > 10) {
        playerPosition -= 10;
      } else if (direction === 'right' && playerPosition < 90) {
        playerPosition += 10;
      }
      playerCar.style.left = playerPosition + '%';
    }
    
    // Create obstacle
    function createObstacle() {
      const obstacle = document.createElement('div');
      obstacle.style.cssText = `
        position: absolute;
        top: -50px;
        left: ${Math.floor(Math.random() * 80) + 10}%;
        font-size: 40px;
        transform: translateX(-50%);
      `;
      
      // Random obstacle type
      const obstacles = ['üöó', 'üöô', 'üöï', 'üöå'];
      obstacle.textContent = obstacles[Math.floor(Math.random() * obstacles.length)];
      
      obstacles.appendChild(obstacle);
      
      // Move obstacle down
      let top = -50;
      const moveInterval = setInterval(() => {
        top += 5;
        obstacle.style.top = top + 'px';
        
        // Check collision
        if (top > 150 && Math.abs(playerPosition - parseInt(obstacle.style.left)) < 15) {
          // Collision detected
          clearInterval(moveInterval);
          obstacle.remove();
          score += 10;
          updateScore();
        }
        
        // Remove if out of view
        if (top > 250) {
          clearInterval(moveInterval);
          obstacle.remove();
        }
      }, 100);
    }
    
    // Game controls
    document.getElementById('moveLeft').addEventListener('click', function() {
      movePlayer('left');
    });
    
    document.getElementById('moveRight').addEventListener('click', function() {
      movePlayer('right');
    });
    
    // Keyboard controls
    document.addEventListener('keydown', function(e) {
      if (e.key === 'ArrowLeft') {
        movePlayer('left');
      } else if (e.key === 'ArrowRight') {
        movePlayer('right');
      }
    });
    
    // Game loop
    const gameInterval = setInterval(() => {
      // Create obstacles randomly
      if (Math.random() > 0.7) {
        createObstacle();
      }
      
      // Update time
      timeLeft--;
      updateTime();
      
      // End game when time runs out
      if (timeLeft <= 0) {
        clearInterval(gameInterval);
        alert(`Game Over! Your final score is ${score}`);
        document.getElementById('startGame').style.display = 'inline-block';
        document.getElementById('gameArea').style.display = 'none';
        document.getElementById('gameControls').style.display = 'none';
      }
    }, 1000);
    
    // Initial update
    updateScore();
    updateTime();
  }

  // Medical Quiz
  function showMedicalQuiz() {
    // Create modal
    const modal = document.createElement('div');
    modal.style.cssText = `
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
    `;

    // Quiz questions
    const questions = [
      {
        question: "What is the first thing you should do when someone is unconscious and not breathing?",
        options: ["Give them water", "Call 1800-234-001", "Start CPR immediately", "Slap their face"],
        answer: 2
      },
      {
        question: "How many chest compressions should you perform per minute during CPR?",
        options: ["60-80", "80-100", "100-120", "120-140"],
        answer: 2
      },
      {
        question: "What does the acronym FAST stand for in recognizing stroke symptoms?",
        options: ["Fast, Accurate, Simple, Timely", "Face, Arms, Speech, Time", "First, Aid, Safety, Treatment", "Fast, Alert, Stable, Treatment"],
        answer: 1
      },
      {
        question: "What is the recommended depth for chest compressions in adult CPR?",
        options: ["1 inch", "2 inches", "3 inches", "4 inches"],
        answer: 1
      },
      {
        question: "What should you do for a person who is choking but can still cough and speak?",
        options: ["Perform the Heimlich maneuver", "Give them water", "Encourage them to continue coughing", "Slap their back"],
        answer: 2
      }
    ];

    let currentQuestion = 0;
    let score = 0;

    function renderQuestion(index) {
      const question = questions[index];
      return `
        <div style="background: white; padding: 30px; border-radius: 15px; max-width: 80%; max-height: 80%; overflow-y: auto; position: relative;">
          <button id="closeModal" style="position: absolute; top: 10px; right: 10px; background: #ff6b6b; color: white; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer;">‚úï</button>
          <h2 style="color: #ff6b6b; margin-top: 0;">üß† Medical Quiz</h2>
          <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0;">
            <h3>Question ${index + 1} of ${questions.length}</h3>
            <p style="font-size: 18px; margin: 15px 0;">${question.question}</p>
            <div style="margin: 20px 0;">
              ${question.options.map((option, i) => `
                <div style="margin: 10px 0;">
                  <button class="quiz-option" data-index="${i}" style="width: 100%; text-align: left; padding: 15px; background: white; border: 2px solid #e9ecef; border-radius: 10px; cursor: pointer; transition: all 0.3s;">
                    ${String.fromCharCode(65 + i)}. ${option}
                  </button>
                </div>
              `).join('')}
            </div>
          </div>
          <div style="text-align: center;">
            <div style="font-size: 18px; margin-bottom: 10px;">Score: <span id="quizScore">${score}</span></div>
            <button id="nextQuestion" style="background: #6c757d; color: white; padding: 10px 20px; border: none; border-radius: 30px; cursor: pointer; display: none;">Next Question</button>
          </div>
        </div>
      `;
    }

    modal.innerHTML = renderQuestion(currentQuestion);
    document.body.appendChild(modal);

    // Add event listeners
    function updateQuiz() {
      modal.innerHTML = renderQuestion(currentQuestion);
      
      document.getElementById('closeModal').addEventListener('click', function() {
        modal.remove();
      });
      
      // Add option click listeners
      document.querySelectorAll('.quiz-option').forEach(option => {
        option.addEventListener('click', function() {
          const selectedIndex = parseInt(this.getAttribute('data-index'));
          const correctIndex = questions[currentQuestion].answer;
          
          // Disable all options
          document.querySelectorAll('.quiz-option').forEach(opt => {
            opt.disabled = true;
            opt.style.cursor = 'not-allowed';
          });
          
          // Highlight correct and incorrect answers
          if (selectedIndex === correctIndex) {
            this.style.background = '#d4edda';
            this.style.borderColor = '#c3e6cb';
            score += 20;
            document.getElementById('quizScore').textContent = score;
          } else {
            this.style.background = '#f8d7da';
            this.style.borderColor = '#f5c6cb';
            // Highlight correct answer
            document.querySelectorAll('.quiz-option')[correctIndex].style.background = '#d4edda';
            document.querySelectorAll('.quiz-option')[correctIndex].style.borderColor = '#c3e6cb';
          }
          
          // Show next button
          document.getElementById('nextQuestion').style.display = 'inline-block';
        });
      });
      
      // Next question button
      if (document.getElementById('nextQuestion')) {
        document.getElementById('nextQuestion').addEventListener('click', function() {
          if (currentQuestion < questions.length - 1) {
            currentQuestion++;
            updateQuiz();
          } else {
            // Show results
            modal.innerHTML = `
              <div style="background: white; padding: 30px; border-radius: 15px; max-width: 80%; max-height: 80%; overflow-y: auto; position: relative; text-align: center;">
                <button id="closeModal" style="position: absolute; top: 10px; right: 10px; background: #ff6b6b; color: white; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer;">‚úï</button>
                <h2 style="color: #ff6b6b; margin-top: 0;">üèÜ Quiz Results</h2>
                <div style="font-size: 80px; margin: 20px 0;">${score >= 80 ? 'üéâ' : score >= 60 ? 'üëç' : 'üìö'}</div>
                <h3>Your Score: ${score}/${questions.length * 20}</h3>
                <p style="font-size: 18px;">${score >= 80 ? 'Excellent! You have great medical knowledge!' : score >= 60 ? 'Good job! Keep learning about emergency care.' : 'Keep studying! Emergency preparedness is important for everyone.'}</p>
                <button id="restartQuiz" style="background: #ff6b6b; color: white; padding: 15px 30px; border: none; border-radius: 30px; font-size: 18px; cursor: pointer; margin: 20px 0;">Restart Quiz</button>
              </div>
            `;
            
            document.getElementById('closeModal').addEventListener('click', function() {
              modal.remove();
            });
            
            document.getElementById('restartQuiz').addEventListener('click', function() {
              currentQuestion = 0;
              score = 0;
              updateQuiz();
            });
          }
        });
      }
      
      // Close modal when clicking outside
      modal.addEventListener('click', function(e) {
        if (e.target === modal) {
          modal.remove();
        }
      });
    }

    updateQuiz();
  }
  
  // Testimonial Carousel
  document.addEventListener('DOMContentLoaded', function() {
    const carousel = document.getElementById('testimonialCarousel');
    const items = carousel.querySelectorAll('.carousel-item');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const indicatorsContainer = document.getElementById('carouselIndicators');
    let currentIndex = 0;
    
    // Create indicators
    items.forEach((_, index) => {
      const indicator = document.createElement('div');
      indicator.classList.add('indicator');
      if (index === 0) indicator.classList.add('active');
      indicator.addEventListener('click', () => goToSlide(index));
      indicatorsContainer.appendChild(indicator);
    });
    
    const indicators = indicatorsContainer.querySelectorAll('.indicator');
    
    function updateCarousel() {
      carousel.style.transform = `translateX(-${currentIndex * 100}%)`;
      
      // Update indicators
      indicators.forEach((indicator, index) => {
        if (index === currentIndex) {
          indicator.classList.add('active');
        } else {
          indicator.classList.remove('active');
        }
      });
    }
    
    function goToSlide(index) {
      currentIndex = index;
      updateCarousel();
    }
    
    function nextSlide() {
      currentIndex = (currentIndex + 1) % items.length;
      updateCarousel();
    }
    
    function prevSlide() {
      currentIndex = (currentIndex - 1 + items.length) % items.length;
      updateCarousel();
    }
    
    // Event listeners
    nextBtn.addEventListener('click', nextSlide);
    prevBtn.addEventListener('click', prevSlide);
    
    // Auto-rotate every 5 seconds
    setInterval(nextSlide, 5000);
  });
  
  // Dark mode toggle
  document.addEventListener('DOMContentLoaded', function() {
    const themeToggle = document.getElementById('themeToggle');
    const currentTheme = localStorage.getItem('theme');
    
    // Apply saved theme or default to light mode
    if (currentTheme === 'dark') {
      document.body.classList.add('dark-mode');
      themeToggle.textContent = '‚òÄÔ∏è';
    }
    
    themeToggle.addEventListener('click', function() {
      document.body.classList.toggle('dark-mode');
      
      // Update button text and save preference
      if (document.body.classList.contains('dark-mode')) {
        themeToggle.textContent = '‚òÄÔ∏è';
        localStorage.setItem('theme', 'dark');
      } else {
        themeToggle.textContent = 'üåô';
        localStorage.setItem('theme', 'light');
      }
    });
  });

  // Toggle Dropdown on Button Click
  function toggleDropdown(event) {
    event.stopPropagation(); // Prevent the document click listener from firing immediately
    const menu = document.getElementById("userDropdownMenu");
    if (!menu) return;
    
    // Check if we're on mobile view
    const isMobile = window.innerWidth <= 768;
    
    if (isMobile) {
      // For mobile, use class toggle
      menu.classList.toggle('show');
      
      // Close other dropdowns
      const allDropdowns = document.querySelectorAll('.dropdown-content');
      allDropdowns.forEach(dropdown => {
        if (dropdown !== menu) {
          dropdown.classList.remove('show');
        }
      });
    } else {
      // For desktop, use display toggle
      menu.style.display = menu.style.display === "block" ? "none" : "block";
      
      // Close other dropdowns
      const allDropdowns = document.querySelectorAll('.dropdown-content');
      allDropdowns.forEach(dropdown => {
        if (dropdown !== menu) {
          dropdown.style.display = 'none';
        }
      });
    }
  }


  // Logout function
  function logout() {
    localStorage.clear();
    window.location.href = "index.html";
  }

  // Run the function on page load
  document.addEventListener('DOMContentLoaded', updateNavbarAuthLinks);
  
  // Service comparison modal
  function showBookingModal() {
    const isLoggedIn = localStorage.getItem("loggedIn");
    if (isLoggedIn === "true") {
      window.location.href = "book.html";
    } else {
      alert("Please log in first to book our advanced services.");
      window.location.href = "login.html";
    }
  }
  
  // Add click event to table rows for more details
  document.addEventListener('DOMContentLoaded', function() {
    const rows = document.querySelectorAll('.table-row');
    rows.forEach(row => {
      row.addEventListener('click', function() {
        this.classList.toggle('expanded');
      });
    });
  });
  

</script>

</body>
</html>